<#if demand.environment.prefix=='prod' >
    <#assign defaultAgentName = "${application.code}.apps.paris.mdp" />
    <#assign defaultServerUrl= "http://v69.apps.paris.mdp:80/v69" />
    <#assign defaultAgentUrl= "http://${application.code}.apps.paris.mdp:80/agent4v69" />
<#else>
    <#assign defaultAgentName = "${application.code}.${demand.environment.prefix}.apps.paris.mdp" />
    <#assign defaultAgentPassword = "${application.code}.${demand.environment.prefix}.apps.paris.mdp" />
    <#assign defaultServerUrl= "http://v69.rec.apps.paris.mdp:80/v69" />
    <#assign defaultAgentUrl= "http://${application.code}.${demand.environment.prefix}.apps.paris.mdp:80/agent4v69" />
</#if>
  
<div class="clearfix"></div>
    <@table>
        <tr>
            <input type="hidden" id="id" name="id"/>
            <th>#i18n{module.appcenter.openam.taskForm.tabHeader.applicationCode}</th>
            <th>#i18n{module.appcenter.openam.taskForm.tabHeader.applicationWebappName}</th>
            <th>#i18n{module.appcenter.openam.taskForm.tabHeader.publicUrl}</th>
            <th>#i18n{module.appcenter.openam.taskForm.tabHeader.environment}</th>
            <th>#i18n{module.appcenter.openam.taskForm.tabHeader.g98SettingNeeded}</th>
        </tr>
        <@tableHeadBodySeparator />
           <tr>
	            <input type="hidden" id="id" name="id"/>
	            <td>
	               ${application.code}
	            </td>
	            <td>
	               ${demand.webappName}
	            </td>
	            <td>
	                ${demand.publicUrl}
	            </td>
	   
	            <td>
	               ${demand.environment.prefix}
	            </td>
	            <td>
	               ${demand.g98SettingNeeded?then('Oui','Non')}
	            </td>
	        </tr>
	     
    </@table>

<@messages errors=errors />
<@formGroup labelKey='#i18n{module.appcenter.openam.taskForm.labelEnvironment}' helpKey='#i18n{module.appcenter.openam.taskForm.taskForm.labelEnvironment.help}' >
	<@input type='text' name='environment' value='${demand.environment.prefix}' readonly=true />
</@formGroup>
<@formGroup labelKey='#i18n{module.appcenter.openam.taskForm.labelAgentName}' helpKey='#i18n{module.appcenter.openam.taskForm.labelAgentName.help}' >
	<@input type='text' name='name' value="${defaultAgentName!''}" />
</@formGroup>
<@formGroup labelKey='#i18n{module.appcenter.openam.taskForm.labelAgentPassword}' helpKey='#i18n{module.appcenter.openam.taskForm.labelAgentPassword.help}' >
	<@input type='text' name='password' value="${defaultAgentPassword!''}" />
</@formGroup>
<@formGroup labelKey='#i18n{module.appcenter.openam.taskForm.labelServerUrl}' helpKey='#i18n{module.appcenter.openam.taskForm.labelServerUrl.help}' >
	<@input type='text' name='server_url' value="${defaultServerUrl!''}" />
</@formGroup>

<@formGroup labelKey='#i18n{module.appcenter.openam.taskForm.labelAgentUrl}' helpKey='#i18n{module.appcenter.openam.taskForm.labelAgentUrl.help}' >
	<@input type='text' name='agent_url' value="${defaultAgentUrl!''}" />
</@formGroup>
<@formGroup labelKey='#i18n{module.appcenter.openam.taskForm.labelG98SettingNeeded}' helpKey='#i18n{module.appcenter.openam.taskForm.labelG98SettingNeeded.help}' >
	<@checkBox name='g98_setting_needed' checked=demand.g98SettingNeeded />
</@formGroup>
